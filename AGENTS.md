# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Environment Setup Commands

```bash
# Create and activate virtual environment
python -m venv venv
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate   # Windows

# Install dependencies
pip install -r requirements.txt

# Configure environment
cp .env.example .env
# Edit .env and add your OPENAI_API_KEY
```

## Running Scripts

Execute any prompt engineering example:
```bash
python 1-tipos-de-prompts/<script_name>.py
```

Common examples:
```bash
python 1-tipos-de-prompts/1-zero-shot.py     # Zero-shot prompting
python 1-tipos-de-prompts/3-CoT.py           # Chain of Thought
python 1-tipos-de-prompts/6-ReAct.py         # ReAct framework
python 1-tipos-de-prompts/7-Prompt-channing.py  # Prompt chaining (generates output file)
```

For prompt management and versioning:
```bash
# Local prompt agents
python 5-gerenciamento-e-versionamento-de-prompts/src/agent_code_reviewer.py
python 5-gerenciamento-e-versionamento-de-prompts/src/agent_pull_request.py

# Run tests for prompt validation
pytest 5-gerenciamento-e-versionamento-de-prompts/tests/test_prompts.py -v
```

## Project Architecture

### Core Structure
- **1-tipos-de-prompts/**: Contains Python scripts demonstrating different prompt engineering techniques
- **4-prompts-e-workflow-de-agentes/**: Agent workflow examples with architectural analyzers and dependency auditors
- **5-gerenciamento-e-versionamento-de-prompts/**: Advanced prompt management system with local and LangSmith integration
- **utils.py**: Shared utility for formatted console output using Rich library
- **requirements.txt**: Locked dependency versions for course reproducibility
- **.env**: Environment configuration (API keys, not committed)

### Prompt Engineering Examples
The repository demonstrates various prompt engineering patterns:
- Zero-shot and few-shot prompting
- Chain of Thought (CoT) reasoning and self-consistency
- Tree of Thoughts (ToT) and Skeleton of Thought (SoT)
- ReAct (Reasoning + Acting)
- Prompt chaining with multiple LLM models
- Least-to-most decomposition

### Prompt Management System (Chapter 5)
The advanced chapter includes:
- **Registry System**: YAML-based prompt versioning with `prompts/registry.yaml`
- **Version Control**: Directory-based versioning (v1.0.0, v1.0.1, etc.)
- **LangSmith Integration**: Remote prompt synchronization and collaboration
- **Automated Testing**: Prompt validation using pytest framework
- **Agent Architecture**: Specialized agents for code review and PR creation

### Common Patterns
- All scripts use `dotenv` for environment variable loading
- LangChain framework for LLM interactions with OpenAI
- Rich library for colored console output via `utils.print_llm_result()`
- Scripts typically demonstrate multiple message variants to show technique differences
- Model selection often includes commented alternatives (gpt-3.5-turbo, gpt-4o, reasoning models)

### File Naming Convention
Scripts follow the pattern: `<index>-<technique-name>.py` (e.g., `3-CoT.py`, `6-ReAct.py`)

### Dependencies
- **langchain**: Framework for LLM applications
- **langchain-openai**: OpenAI integration
- **python-dotenv**: Environment variable management
- **rich**: Terminal formatting for output display
- **openai**: Direct OpenAI API client
- **pytest**: Testing framework for prompt validation
- **PyYAML**: YAML parsing for prompt registry

## Output Files
- `prompt_chaining_result.md`: Generated by the prompt chaining example, demonstrates multi-model pipeline results

## Environment Variables
Required for chapter 5 (prompt management):
- `OPENAI_API_KEY`: OpenAI API key (required)
- `LANGCHAIN_API_KEY`: LangSmith API key (optional, for remote sync)
- `LANGCHAIN_PROJECT`: LangSmith project name (optional)
- `LANGCHAIN_TRACING_V2`: Enable LangSmith tracing (optional)